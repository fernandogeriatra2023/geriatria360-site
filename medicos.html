<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>√Årea M√©dica ‚Äî Geriatria 360</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* ... (mantenha todos os estilos existentes) ... */
  </style>
</head>
<body>
  <!-- ... (mantenha o header e estrutura HTML existente) ... -->

  <script>
    // ===== SISTEMA PRINCIPAL =====
    let currentAppointment = null;
    let medications = [];
    let exams = [];
    let appointments = [];
    let selectedCids = [];
    let selectedCidsAtestado = [];
    
    // Base de dados de CID-10
    const cidData = [
      { code: "A00", description: "C√≥lera" },
      { code: "A01", description: "Febres tif√≥ide e paratif√≥ide" },
      { code: "A02", description: "Outras infec√ß√µes por Salmonella" },
      { code: "I10", description: "Hipertens√£o essencial (prim√°ria)" },
      { code: "I11", description: "Doen√ßa card√≠aca hipertensiva" },
      { code: "I20", description: "Angina pectoris" },
      { code: "I21", description: "Infarto agudo do mioc√°rdio" },
      { code: "I25", description: "Doen√ßa isqu√™mica cr√¥nica do cora√ß√£o" },
      { code: "E10", description: "Diabetes mellitus insulinodependente" },
      { code: "E11", description: "Diabetes mellitus n√£o-insulinodependente" },
      { code: "E66", description: "Obesidade" },
      { code: "F00", description: "Dem√™ncia na doen√ßa de Alzheimer" },
      { code: "F01", description: "Dem√™ncia vascular" },
      { code: "F03", description: "Dem√™ncia n√£o especificada" },
      { code: "F10", description: "Transtornos mentais devido ao uso de √°lcool" },
      { code: "G20", description: "Doen√ßa de Parkinson" },
      { code: "G30", description: "Doen√ßa de Alzheimer" },
      { code: "J45", description: "Asma" },
      { code: "J44", description: "Outras doen√ßas pulmonares obstrutivas cr√¥nicas" },
      { code: "M15", description: "Poliartrose" },
      { code: "M16", description: "Coxartrose (artrose do quadril)" },
      { code: "M17", description: "Gonartrose (artrose do joelho)" },
      { code: "M19", description: "Outras artroses" },
      { code: "N18", description: "Doen√ßa renal cr√¥nica" },
      { code: "N39", description: "Outros transtornos do sistema urin√°rio" },
      { code: "R05", description: "Tosse" },
      { code: "R06", description: "Anormalidades da respira√ß√£o" },
      { code: "R53", description: "Mal-estar e fadiga" },
      { code: "Z00", description: "Exame geral de rotina" }
    ];

    // Modelos de atestados
    const certModels = {
      modelo1: `Atesto que {{nome}}, portador(a) do CPF {{cpf}}, esteve sob meus cuidados m√©dicos e necessita de afastamento de suas atividades laborais por {{dias}} dias, a partir da data presente.{{cid}}`,
      
      modelo2: `Atesto que {{nome}}, portador(a) do CPF {{cpf}}, encontra-se apto(a) para a pr√°tica de atividades f√≠sicas, n√£o apresentando contraindica√ß√µes m√©dicas no momento deste exame.{{cid}}`,
      
      modelo3: `Atesto para os devidos fins que {{nome}}, portador(a) do CPF {{cpf}}, esteve presente em consulta m√©dica em nosso servi√ßo no dia {{data}}, no per√≠odo das {{horaInicio}} √†s {{horaFim}}.{{cid}}`,
      
      modelo4: `Atesto que {{nome}}, portador(a) do CPF {{cpf}}, necessita de acompanhante {{acompanhante}} para consultas e exames m√©dicos devido √† sua condi√ß√£o de sa√∫de.{{cid}}`
    };
    
    // Login
    function loginMed() {
      const user = document.getElementById('med-user').value;
      const pass = document.getElementById('med-pass').value;
      
      if (user === '123456' && pass === 'medico123') {
        document.getElementById('loginArea').style.display = 'none';
        document.getElementById('medicalArea').style.display = 'block';
        initCIDSearch();
        initCalendar();
        setupTabNavigation();
        
        // Carregar dashboard com agendamentos do dia
        carregarAgendamentosDoDia();
      } else {
        document.getElementById('loginError').style.display = 'block';
      }
    }
    
    // Navega√ß√£o por abas
    function setupTabNavigation() {
      const tabs = document.querySelectorAll('.medical-tab');
      
      tabs.forEach(tab => {
        tab.addEventListener('click', function(e) {
          e.preventDefault();
          
          // Remover classe active de todas as abas
          tabs.forEach(t => t.classList.remove('active'));
          document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
          
          // Adicionar classe active √† aba clicada
          this.classList.add('active');
          
          // Mostrar conte√∫do correspondente
          const tabId = this.getAttribute('data-tab');
          document.getElementById(tabId).classList.add('active');
          
          // Verificar se h√° paciente selecionado nas abas que precisam
          if (tabId === 'evolucao') {
            verificarPacienteSelecionadoEvolucao();
          } else if (tabId === 'medicacao') {
            verificarPacienteSelecionadoMedicacao();
          } else if (tabId === 'atestados') {
            verificarPacienteSelecionadoAtestados();
          } else if (tabId === 'exames') {
            verificarPacienteSelecionadoExames();
          } else if (tabId === 'dashboard') {
            carregarAgendamentosDoDia(); // Recarregar ao voltar para o dashboard
          }
        });
      });
    }
    
    // Carregar agendamentos do dia - FUN√á√ÉO CORRIGIDA
    function carregarAgendamentosDoDia() {
      const hoje = new Date().toISOString().split('T')[0];
      const agendamentos = JSON.parse(localStorage.getItem('geriatria_agendamentos')) || [];
      const pacientes = JSON.parse(localStorage.getItem('geriatria_pacientes')) || [];
      const triagens = JSON.parse(localStorage.getItem('geriatria_triagens')) || [];
      
      console.log('üîç Buscando agendamentos para hoje:', hoje);
      console.log('üìã Todos os agendamentos:', agendamentos);
      
      // Filtrar agendamentos de hoje
      const agendamentosHoje = agendamentos.filter(ag => {
        console.log(`Agendamento ${ag.id}: data=${ag.data}, status=${ag.status}`);
        return ag.data === hoje && ag.status !== 'finalizado';
      });
      
      console.log('‚úÖ Agendamentos de hoje:', agendamentosHoje);
      
      // Atualizar contadores
      document.getElementById('agendamentosCount').textContent = agendamentosHoje.length;
      document.getElementById('totalAgendamentosHoje').textContent = `${agendamentosHoje.length} agendamentos`;
      
      const emAtendimento = agendamentosHoje.filter(ag => ag.status === 'em_atendimento').length;
      document.getElementById('atendimentosCount').textContent = emAtendimento;
      document.getElementById('totalAtendimentos').textContent = `${emAtendimento} pacientes`;
      
      // Renderizar agendamentos
      const container = document.getElementById('agendamentosDoDia');
      
      if (agendamentosHoje.length === 0) {
        container.innerHTML = `
          <div class="empty-state">
            <i class="fas fa-calendar-times"></i>
            <h3>Nenhum agendamento para hoje</h3>
            <p>N√£o h√° consultas agendadas para o dia de hoje.</p>
            <p><strong>Clique em "Criar Dados de Teste" para gerar pacientes de exemplo.</strong></p>
          </div>
        `;
        return;
      }
      
      container.innerHTML = '';
      
      agendamentosHoje.forEach(agendamento => {
        const paciente = pacientes.find(p => p.id == agendamento.pacienteId) || {};
        
        // CORRE√á√ÉO: Buscar triagem de forma mais flex√≠vel
        const triagem = triagens.find(t => 
          t.agendamentoId === agendamento.id || 
          t.pacienteId === agendamento.pacienteId ||
          (t.pacienteNome && t.pacienteNome === agendamento.pacienteNome)
        );
        
        console.log(`Paciente: ${agendamento.pacienteNome}, Triagem encontrada:`, triagem);
        
        const card = document.createElement('div');
        card.className = `agendamento-card ${triagem ? `prioridade-${triagem.prioridade}` : ''}`;
        
        card.innerHTML = `
          <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px;">
            <h4>${agendamento.pacienteNome || paciente.nome || 'Paciente'}</h4>
            <span class="badge ${getStatusBadgeClass(agendamento.status)}">${getStatusText(agendamento.status)}</span>
          </div>
          <p><i class="fas fa-clock"></i> ${agendamento.hora}</p>
          <p><i class="fas fa-user-md"></i> ${agendamento.medico || 'Dr. Silva'}</p>
          ${triagem ? `<p><i class="fas fa-thermometer-half"></i> Prioridade: <strong>${triagem.prioridade}</strong></p>` : ''}
          ${triagem ? `<p><i class="fas fa-heartbeat"></i> PA: ${triagem.pressaoSistolica}/${triagem.pressaoDiastolica} | FC: ${triagem.batimentosCardiacos}</p>` : ''}
          <div class="agendamento-actions">
            ${agendamento.status === 'agendado' ? `<button class="btn" onclick="iniciarAtendimento('${agendamento.id}')"><i class="fas fa-play"></i> Iniciar</button>` : ''}
            ${agendamento.status === 'em_atendimento' ? `<button class="btn btn-success" onclick="continuarAtendimento('${agendamento.id}')"><i class="fas fa-stethoscope"></i> Continuar</button>` : ''}
            <button class="btn" onclick="verDetalhesAgendamento('${agendamento.id}')"><i class="fas fa-info-circle"></i> Detalhes</button>
          </div>
        `;
        
        container.appendChild(card);
      });
      
      // Carregar pacientes em atendimento
      carregarPacientesEmAtendimento();
    }
    
    // Criar dados de demonstra√ß√£o
    function criarDadosDemonstracao() {
      const hoje = new Date().toISOString().split('T')[0];
      
      // Criar paciente de demonstra√ß√£o
      const pacienteDemo = {
        id: 'demo-001',
        nome: 'Maria Silva',
        cpf: '123.456.789-00',
        dataNascimento: '1948-05-15',
        telefone: '(11) 99999-9999',
        endereco: 'Rua das Flores, 123 - S√£o Paulo/SP',
        escolaridade: '8 anos',
        alergias: 'Penicilina',
        comorbidades: 'Hipertens√£o, Diabetes'
      };
      
      // Criar agendamento de demonstra√ß√£o
      const agendamentoDemo = {
        id: 'agd-' + Date.now(),
        pacienteId: 'demo-001',
        pacienteNome: 'Maria Silva',
        pacienteCPF: '123.456.789-00',
        medico: 'Dr. Silva',
        data: hoje,
        hora: '10:00',
        status: 'agendado',
        tipo: 'Consulta de rotina'
      };
      
      // Criar triagem de demonstra√ß√£o
      const triagemDemo = {
        id: 'trg-' + Date.now(),
        agendamentoId: agendamentoDemo.id,
        pacienteId: 'demo-001',
        pacienteNome: 'Maria Silva',
        queixaPrincipal: 'Dor articular difusa h√° 3 meses',
        pressaoSistolica: '140',
        pressaoDiastolica: '90',
        batimentosCardiacos: '72',
        temperatura: '36.5',
        saturacaoOxigenio: '98',
        peso: '65',
        altura: '1.60',
        imc: '25.4',
        glicemia: '110',
        prioridade: 'media',
        observacoes: 'Paciente relata piora progressiva da dor'
      };
      
      // Salvar no localStorage
      const pacientes = JSON.parse(localStorage.getItem('geriatria_pacientes')) || [];
      if (!pacientes.find(p => p.id === 'demo-001')) {
        pacientes.push(pacienteDemo);
      }
      localStorage.setItem('geriatria_pacientes', JSON.stringify(pacientes));
      
      const agendamentos = JSON.parse(localStorage.getItem('geriatria_agendamentos')) || [];
      agendamentos.push(agendamentoDemo);
      localStorage.setItem('geriatria_agendamentos', JSON.stringify(agendamentos));
      
      const triagens = JSON.parse(localStorage.getItem('geriatria_triagens')) || [];
      triagens.push(triagemDemo);
      localStorage.setItem('geriatria_triagens', JSON.stringify(triagens));
      
      showAlert('Dados de demonstra√ß√£o criados com sucesso! Agora voc√™ pode iniciar o atendimento.', 'success');
      
      // Recarregar agendamentos
      carregarAgendamentosDoDia();
    }
    
    // Carregar pacientes em atendimento
    function carregarPacientesEmAtendimento() {
      const hoje = new Date().toISOString().split('T')[0];
      const agendamentos = JSON.parse(localStorage.getItem('geriatria_agendamentos')) || [];
      const pacientes = JSON.parse(localStorage.getItem('geriatria_pacientes')) || [];
      
      const emAtendimento = agendamentos.filter(ag => ag.data === hoje && ag.status === 'em_atendimento');
      
      const container = document.getElementById('pacientesAtendimento');
      
      if (emAtendimento.length === 0) {
        container.innerHTML = `
          <div class="empty-state">
            <i class="fas fa-user-clock"></i>
            <h3>Nenhum paciente em atendimento</h3>
            <p>Inicie um atendimento para ver os pacientes aqui.</p>
          </div>
        `;
        return;
      }
      
      container.innerHTML = '';
      
      emAtendimento.forEach(agendamento => {
        const paciente = pacientes.find(p => p.id == agendamento.pacienteId) || {};
        
        const card = document.createElement('div');
        card.className = 'agendamento-card prioridade-alta';
        
        card.innerHTML = `
          <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px;">
            <h4>${agendamento.pacienteNome || paciente.nome || 'Paciente'}</h4>
            <span class="badge badge-warning">Em Atendimento</span>
          </div>
          <p><i class="fas fa-clock"></i> ${agendamento.hora}</p>
          <p><i class="fas fa-user-md"></i> ${agendamento.medico || 'Dr. Silva'}</p>
          <div class="agendamento-actions">
            <button class="btn btn-success" onclick="continuarAtendimento('${agendamento.id}')"><i class="fas fa-stethoscope"></i> Continuar</button>
            <button class="btn" onclick="verDetalhesAgendamento('${agendamento.id}')"><i class="fas fa-info-circle"></i> Detalhes</button>
          </div>
        `;
        
        container.appendChild(card);
      });
    }
    
    // Iniciar atendimento - FUN√á√ÉO CORRIGIDA
    function iniciarAtendimento(agendamentoId) {
      console.log('üéØ Iniciando atendimento para:', agendamentoId);
      
      const agendamentos = JSON.parse(localStorage.getItem('geriatria_agendamentos')) || [];
      const pacientes = JSON.parse(localStorage.getItem('geriatria_pacientes')) || [];
      const triagens = JSON.parse(localStorage.getItem('geriatria_triagens')) || [];
      
      const agendamentoIndex = agendamentos.findIndex(ag => ag.id === agendamentoId);
      
      if (agendamentoIndex !== -1) {
        // Atualizar status do agendamento
        agendamentos[agendamentoIndex].status = 'em_atendimento';
        localStorage.setItem('geriatria_agendamentos', JSON.stringify(agendamentos));
        
        // Carregar dados do paciente
        const agendamento = agendamentos[agendamentoIndex];
        const paciente = pacientes.find(p => p.id == agendamento.pacienteId) || {};
        
        // CORRE√á√ÉO: Buscar triagem de forma mais flex√≠vel
        const triagem = triagens.find(t => 
          t.agendamentoId === agendamento.id || 
          t.pacienteId === agendamento.pacienteId ||
          (t.pacienteNome && t.pacienteNome === agendamento.pacienteNome)
        );
        
        currentAppointment = {
          id: agendamento.id,
          pacienteId: agendamento.pacienteId,
          pacienteNome: agendamento.pacienteNome || paciente.nome,
          pacienteCPF: agendamento.pacienteCPF || paciente.cpf,
          medico: agendamento.medico,
          data: agendamento.data,
          hora: agendamento.hora,
          status: 'em_atendimento',
          paciente: paciente,
          triagem: triagem
        };
        
        console.log('‚úÖ Current Appointment definido:', currentAppointment);
        
        // Mostrar sucesso
        showAlert(`Atendimento iniciado para <strong>${currentAppointment.pacienteNome}</strong>`, 'success');
        
        // Atualizar dashboard
        carregarAgendamentosDoDia();
        
        // Mudar para aba de evolu√ß√£o
        document.querySelector('.medical-tab[data-tab="evolucao"]').click();
        
        // Atualizar interface do paciente
        atualizarInterfacePaciente();
      } else {
        console.error('‚ùå Agendamento n√£o encontrado com ID:', agendamentoId);
        showAlert('Erro: Agendamento n√£o encontrado.', 'error');
      }
    }
    
    // Continuar atendimento
    function continuarAtendimento(agendamentoId) {
      console.log('üéØ Continuando atendimento para:', agendamentoId);
      
      const agendamentos = JSON.parse(localStorage.getItem('geriatria_agendamentos')) || [];
      const pacientes = JSON.parse(localStorage.getItem('geriatria_pacientes')) || [];
      const triagens = JSON.parse(localStorage.getItem('geriatria_triagens')) || [];
      
      const agendamento = agendamentos.find(ag => ag.id === agendamentoId);
      
      if (agendamento) {
        const paciente = pacientes.find(p => p.id == agendamento.pacienteId) || {};
        
        // CORRE√á√ÉO: Buscar triagem de forma mais flex√≠vel
        const triagem = triagens.find(t => 
          t.agendamentoId === agendamento.id || 
          t.pacienteId === agendamento.pacienteId ||
          (t.pacienteNome && t.pacienteNome === agendamento.pacienteNome)
        );
        
        currentAppointment = {
          id: agendamento.id,
          pacienteId: agendamento.pacienteId,
          pacienteNome: agendamento.pacienteNome || paciente.nome,
          pacienteCPF: agendamento.pacienteCPF || paciente.cpf,
          medico: agendamento.medico,
          data: agendamento.data,
          hora: agendamento.hora,
          status: agendamento.status,
          paciente: paciente,
          triagem: triagem
        };
        
        console.log('‚úÖ Current Appointment atualizado:', currentAppointment);
        
        // Mudar para aba de evolu√ß√£o
        document.querySelector('.medical-tab[data-tab="evolucao"]').click();
        
        // Atualizar interface do paciente
        atualizarInterfacePaciente();
      } else {
        console.error('‚ùå Agendamento n√£o encontrado com ID:', agendamentoId);
        showAlert('Erro: Agendamento n√£o encontrado.', 'error');
      }
    }
    
    // Atualizar interface do paciente
    function atualizarInterfacePaciente() {
      if (currentAppointment) {
        // Mostrar informa√ß√µes do paciente
        document.getElementById('pacienteInfoEvolucao').style.display = 'block';
        document.getElementById('nomePacienteEvolucao').textContent = currentAppointment.pacienteNome;
        
        let detalhes = `ID: ${currentAppointment.pacienteId} | CPF: ${formatCPF(currentAppointment.pacienteCPF)}`;
        if (currentAppointment.triagem) {
          detalhes += ` | Prioridade: ${currentAppointment.triagem.prioridade} | PA: ${currentAppointment.triagem.pressaoSistolica}/${currentAppointment.triagem.pressaoDiastolica}`;
        }
        
        document.getElementById('detalhesPacienteEvolucao').textContent = detalhes;
        
        // Mostrar card de finaliza√ß√£o
        document.getElementById('finalizationCard').style.display = 'block';
        
        // Esconder alerta de nenhum paciente
        document.getElementById('alertNoPatient').style.display = 'none';
        
        // Carregar dados da triagem no editor, se existirem
        if (currentAppointment.triagem) {
          carregarDadosTriagem();
        }
      }
    }
    
    // Carregar dados da triagem no editor
    function carregarDadosTriagem() {
      if (!currentAppointment || !currentAppointment.triagem) return;
      
      const triagem = currentAppointment.triagem;
      let triagemHTML = `
        <div style="background: #e8f4fd; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid var(--primary);">
          <p style="margin: 0 0 10px 0;"><strong>üìã DADOS DA TRIAGEM:</strong></p>
          <p style="margin: 5px 0;"><strong>Queixa Principal:</strong> ${triagem.queixaPrincipal}</p>
          <p style="margin: 5px 0;"><strong>Sinais Vitais:</strong> PA ${triagem.pressaoSistolica}/${triagem.pressaoDiastolica} | FC ${triagem.batimentosCardiacos} bpm | Temp ${triagem.temperatura}¬∞C | Sat O‚ÇÇ ${triagem.saturacaoOxigenio}%</p>
          <p style="margin: 5px 0;"><strong>Antropometria:</strong> Peso ${triagem.peso}kg | Altura ${triagem.altura}m | IMC ${triagem.imc}</p>
          ${triagem.glicemia ? `<p style="margin: 5px 0;"><strong>Glicemia:</strong> ${triagem.glicemia} mg/dL</p>` : ''}
          ${triagem.observacoes ? `<p style="margin: 5px 0;"><strong>Observa√ß√µes da Triagem:</strong> ${triagem.observacoes}</p>` : ''}
          <p style="margin: 5px 0;"><strong>Prioridade:</strong> <span style="color: ${getPriorityColor(triagem.prioridade)}; font-weight: bold;">${triagem.prioridade.toUpperCase()}</span></p>
        </div>
        <hr>
      `;
      
      const evolText = document.getElementById('evolText');
      evolText.innerHTML = triagemHTML + evolText.innerHTML;
    }
    
    // Verificar se h√° paciente selecionado nas diferentes abas
    function verificarPacienteSelecionadoEvolucao() {
      if (!currentAppointment) {
        document.getElementById('alertNoPatient').style.display = 'block';
        document.getElementById('finalizationCard').style.display = 'none';
        document.getElementById('pacienteInfoEvolucao').style.display = 'none';
      } else {
        document.getElementById('alertNoPatient').style.display = 'none';
        document.getElementById('finalizationCard').style.display = 'block';
        document.getElementById('pacienteInfoEvolucao').style.display = 'block';
      }
    }
    
    function verificarPacienteSelecionadoMedicacao() {
      if (!currentAppointment) {
        document.getElementById('alertNoPatientMedicacao').style.display = 'block';
        document.getElementById('medicacaoContent').style.display = 'none';
      } else {
        document.getElementById('alertNoPatientMedicacao').style.display = 'none';
        document.getElementById('medicacaoContent').style.display = 'block';
      }
    }
    
    function verificarPacienteSelecionadoAtestados() {
      if (!currentAppointment) {
        document.getElementById('alertNoPatientAtestado').style.display = 'block';
        document.getElementById('atestadosContent').style.display = 'none';
      } else {
        document.getElementById('alertNoPatientAtestado').style.display = 'none';
        document.getElementById('atestadosContent').style.display = 'block';
      }
    }
    
    function verificarPacienteSelecionadoExames() {
      if (!currentAppointment) {
        document.getElementById('alertNoPatientExames').style.display = 'block';
        document.getElementById('examesContent').style.display = 'none';
      } else {
        document.getElementById('alertNoPatientExames').style.display = 'none';
        document.getElementById('examesContent').style.display = 'block';
      }
    }
    
    // Finalizar atendimento
    function finalizarAtendimento() {
      if (!currentAppointment) {
        showAlert('Nenhum paciente em atendimento para finalizar.', 'error');
        return;
      }
      
      const agendamentos = JSON.parse(localStorage.getItem('geriatria_agendamentos')) || [];
      const agendamentoIndex = agendamentos.findIndex(ag => ag.id === currentAppointment.id);
      
      if (agendamentoIndex !== -1) {
        // Atualizar status do agendamento
        agendamentos[agendamentoIndex].status = 'finalizado';
        agendamentos[agendamentoIndex].dataFinalizacao = new Date().toISOString();
        localStorage.setItem('geriatria_agendamentos', JSON.stringify(agendamentos));
        
        // Salvar prontu√°rio
        salvarProntuarioCompleto();
        
        showAlert(`Atendimento de <strong>${currentAppointment.pacienteNome}</strong> finalizado com sucesso!`, 'success');
        
        // Limpar dados do atendimento atual
        currentAppointment = null;
        
        // Atualizar dashboard
        carregarAgendamentosDoDia();
        
        // Voltar para o dashboard
        document.querySelector('.medical-tab[data-tab="dashboard"]').click();
        
        // Limpar editor
        document.getElementById('evolText').innerHTML = `
          <p><strong>Queixa Principal:</strong> </p>
          <p><strong>Hist√≥ria da Doen√ßa Atual:</strong> </p>
          <p><strong>Exame F√≠sico:</strong> </p>
          <p><strong>Conduta:</strong> </p>
        `;
      }
    }
    
    // Salvar prontu√°rio completo
    function salvarProntuarioCompleto() {
      if (!currentAppointment) return;
      
      const prontuario = {
        id: Date.now(),
        agendamentoId: currentAppointment.id,
        pacienteId: currentAppointment.pacienteId,
        pacienteNome: currentAppointment.pacienteNome,
        pacienteCPF: currentAppointment.pacienteCPF,
        medico: currentAppointment.medico,
        dataAtendimento: new Date().toISOString(),
        evolucao: document.getElementById('evolText').innerHTML,
        medicamentos: medications,
        exames: exams,
        diagnosticos: selectedCids,
        observacoes: "Atendimento finalizado pelo sistema"
      };
      
      // Salvar no localStorage
      const prontuarios = JSON.parse(localStorage.getItem('geriatria_prontuarios')) || [];
      prontuarios.push(prontuario);
      localStorage.setItem('geriatria_prontuarios', JSON.stringify(prontuarios));
    }
    
    // Fun√ß√µes auxiliares
    function getStatusBadgeClass(status) {
      switch(status) {
        case 'agendado': return 'badge-primary';
        case 'em_atendimento': return 'badge-warning';
        case 'finalizado': return 'badge-success';
        default: return 'badge-primary';
      }
    }
    
    function getStatusText(status) {
      switch(status) {
        case 'agendado': return 'Agendado';
        case 'em_atendimento': return 'Em Atendimento';
        case 'finalizado': return 'Finalizado';
        default: return status;
      }
    }
    
    function getPriorityColor(prioridade) {
      switch(prioridade) {
        case 'alta': return '#e74c3c';
        case 'media': return '#f39c12';
        case 'baixa': return '#27ae60';
        default: return '#6c757d';
      }
    }
    
    function formatCPF(cpf) {
      if (!cpf) return 'N√£o informado';
      cpf = cpf.replace(/\D/g, '');
      if (cpf.length !== 11) return cpf;
      return cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '$1.$2.$3-$4');
    }
    
    function showAlert(message, type = 'success') {
      const alertDiv = document.createElement('div');
      alertDiv.className = `alert alert-${type}`;
      alertDiv.innerHTML = message;
      alertDiv.style.position = 'fixed';
      alertDiv.style.top = '100px';
      alertDiv.style.right = '20px';
      alertDiv.style.zIndex = '10000';
      alertDiv.style.minWidth = '300px';
      
      document.body.appendChild(alertDiv);
      
      setTimeout(() => {
        alertDiv.remove();
      }, 5000);
    }
    
    // Fun√ß√µes para ver detalhes do agendamento (placeholder)
    function verDetalhesAgendamento(agendamentoId) {
      showAlert('Funcionalidade de detalhes em desenvolvimento', 'success');
    }

    // ===== FUN√á√ïES EXISTENTES DAS OUTRAS ABAS =====

    // Busca de CID para evolu√ß√£o
    function initCIDSearch() {
      const cidSearch = document.getElementById('cidSearch');
      const cidResults = document.getElementById('cidResults');
      
      cidSearch.addEventListener('input', function() {
        const query = this.value.toLowerCase();
        
        if (query.length < 2) {
          cidResults.style.display = 'none';
          return;
        }
        
        const filtered = cidData.filter(item => 
          item.code.toLowerCase().includes(query) || 
          item.description.toLowerCase().includes(query)
        );
        
        displayCIDResults(filtered);
      });
      
      // Fechar resultados ao clicar fora
      document.addEventListener('click', function(e) {
        if (!cidSearch.contains(e.target) && !cidResults.contains(e.target)) {
          cidResults.style.display = 'none';
        }
      });
    }
    
    function displayCIDResults(results) {
      const cidResults = document.getElementById('cidResults');
      cidResults.innerHTML = '';
      
      if (results.length === 0) {
        cidResults.innerHTML = '<div class="cid-result">Nenhum resultado encontrado</div>';
      } else {
        results.forEach(item => {
          const div = document.createElement('div');
          div.className = 'cid-result';
          div.innerHTML = `<strong>${item.code}</strong> - ${item.description}`;
          div.addEventListener('click', () => selectCID(item));
          cidResults.appendChild(div);
        });
      }
      
      cidResults.style.display = 'block';
    }
    
    function selectCID(cid) {
      if (!selectedCids.find(item => item.code === cid.code)) {
        selectedCids.push(cid);
        updateCIDChips();
      }
      
      document.getElementById('cidSearch').value = '';
      document.getElementById('cidResults').style.display = 'none';
    }
    
    function updateCIDChips() {
      const container = document.getElementById('cidChips');
      container.innerHTML = '';
      
      selectedCids.forEach(cid => {
        const chip = document.createElement('div');
        chip.className = 'cid-chip';
        chip.innerHTML = `
          ${cid.code} - ${cid.description}
          <button onclick="removeCID('${cid.code}')"><i class="fas fa-times"></i></button>
        `;
        container.appendChild(chip);
      });
    }
    
    function removeCID(code) {
      selectedCids = selectedCids.filter(item => item.code !== code);
      updateCIDChips();
    }
    
    // Formata√ß√£o de texto no editor
    function formatText(command) {
      document.execCommand(command, false, null);
      document.getElementById('evolText').focus();
    }
    
    // Sistema de medicamentos
    function addMedication() {
      const name = document.getElementById('medName').value;
      const dosage = document.getElementById('medDosage').value;
      const duration = document.getElementById('medDuration').value;
      
      if (name && dosage) {
        medications.push({ name, dosage, duration });
        renderMedications();
        document.getElementById('medName').value = '';
        document.getElementById('medDosage').value = '';
        document.getElementById('medDuration').value = '';
      } else {
        alert('Preencha pelo menos o nome e a posologia do medicamento.');
      }
    }
    
    function renderMedications() {
      const container = document.getElementById('medicationListContainer');
      container.innerHTML = '';
      
      medications.forEach((med, index) => {
        const medItem = document.createElement('div');
        medItem.className = 'medication-item';
        medItem.innerHTML = `
          <div><strong>${med.name}</strong></div>
          <div>${med.dosage}</div>
          <div>${med.duration}</div>
          <div class="medication-actions">
            <button onclick="removeMedication(${index})"><i class="fas fa-trash"></i></button>
          </div>
        `;
        container.appendChild(medItem);
      });
    }
    
    function removeMedication(index) {
      medications.splice(index, 1);
      renderMedications();
    }
    
    function savePrescription() {
      if (medications.length === 0) {
        alert('Adicione pelo menos um medicamento antes de salvar.');
        return;
      }
      
      const patientName = currentAppointment ? currentAppointment.pacienteNome : 'Paciente';
      const patientCPF = currentAppointment ? currentAppointment.pacienteCPF : 'N√£o informado';
      
      const prescription = {
        patient: patientName,
        patientCPF: patientCPF,
        medications: medications,
        date: new Date().toISOString(),
        doctor: "Dr. Silva"
      };
      
      localStorage.setItem('lastPrescription', JSON.stringify(prescription));
      showAlert('Receita salva com sucesso!', 'success');
    }
    
    function printPrescription() {
      if (medications.length === 0) {
        alert('Adicione pelo menos um medicamento antes de imprimir.');
        return;
      }
      
      const patientName = currentAppointment ? currentAppointment.pacienteNome : 'Paciente';
      const patientCPF = currentAppointment ? formatCPF(currentAppointment.pacienteCPF) : 'N√£o informado';

      const printContent = `
        <div style="padding: 20px; font-family: Arial;">
          <h2>Receita M√©dica - Geriatria 360</h2>
          <p><strong>Paciente:</strong> ${patientName}</p>
          <p><strong>CPF:</strong> ${patientCPF}</p>
          <p><strong>Data:</strong> ${new Date().toLocaleDateString('pt-BR')}</p>
          <hr>
          <h3>Medica√ß√µes Prescritas:</h3>
          <ul>
            ${medications.map(med => 
              `<li><strong>${med.name}</strong> - ${med.dosage} - ${med.duration}</li>`
            ).join('')}
          </ul>
          <br><br>
          <p>________________________________</p>
          <p><strong>Dr. Silva</strong><br>CRM: 123456</p>
        </div>
      `;
      
      const printWindow = window.open('', '_blank');
      printWindow.document.write(printContent);
      printWindow.document.close();
      printWindow.print();
    }
    
    // Sistema de exames
    function addExam() {
      const examInput = document.getElementById('examInput');
      const examValue = examInput.value.trim();
      
      if (examValue) {
        exams.push(examValue);
        renderExams();
        examInput.value = '';
      } else {
        alert('Digite um exame para adicionar.');
      }
    }
    
    function renderExams() {
      const examList = document.getElementById('examList');
      examList.innerHTML = '';
      
      exams.forEach((exam, index) => {
        const li = document.createElement('li');
        li.style.cssText = 'display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid var(--gray-light);';
        li.innerHTML = `
          <span>${exam}</span>
          <button style="background: none; border: none; color: var(--danger); cursor: pointer;" onclick="removeExam(${index})">
            <i class="fas fa-times"></i>
          </button>
        `;
        examList.appendChild(li);
      });
    }
    
    function removeExam(index) {
      exams.splice(index, 1);
      renderExams();
    }
    
    function saveExams() {
      if (exams.length === 0) {
        alert('Adicione pelo menos um exame antes de salvar.');
        return;
      }
      
      const patientName = currentAppointment ? currentAppointment.pacienteNome : 'Paciente';
      const patientCPF = currentAppointment ? currentAppointment.pacienteCPF : 'N√£o informado';

      const examData = {
        patient: patientName,
        patientCPF: patientCPF,
        exams: exams,
        date: new Date().toISOString(),
        instructions: document.getElementById('examInstructions').value
      };
      
      localStorage.setItem('lastExams', JSON.stringify(examData));
      showAlert('Solicita√ß√£o de exames salva com sucesso!', 'success');
    }
    
    function printExams() {
      if (exams.length === 0) {
        alert('Adicione pelo menos um exame antes de imprimir.');
        return;
      }
      
      const patientName = currentAppointment ? currentAppointment.pacienteNome : 'Paciente';
      const patientCPF = currentAppointment ? formatCPF(currentAppointment.pacienteCPF) : 'N√£o informado';
      const instructions = document.getElementById('examInstructions').value;
      
      const printContent = `
        <div style="padding: 20px; font-family: Arial;">
          <h2>Solicita√ß√£o de Exames - Geriatria 360</h2>
          <p><strong>Paciente:</strong> ${patientName}</p>
          <p><strong>CPF:</strong> ${patientCPF}</p>
          <p><strong>Data:</strong> ${new Date().toLocaleDateString('pt-BR')}</p>
          <hr>
          <h3>Exames Solicitados:</h3>
          <ul>
            ${exams.map(exam => `<li>${exam}</li>`).join('')}
          </ul>
          ${instructions ? `<h3>Instru√ß√µes:</h3><p>${instructions}</p>` : ''}
          <br><br>
          <p>________________________________</p>
          <p><strong>Dr. Silva</strong><br>CRM: 123456</p>
        </div>
      `;
      
      const printWindow = window.open('', '_blank');
      printWindow.document.write(printContent);
      printWindow.document.close();
      printWindow.print();
    }
    
    // Sistema de atestados
    function changeCertModel(model) {
      const certReason = document.getElementById('certReason');
      const certFields = document.getElementById('certFields');
      
      // Limpar campos anteriores
      certFields.innerHTML = '';
      selectedCidsAtestado = [];
      updateCIDChipsAtestado();
      
      if (model && certModels[model]) {
        const patientName = currentAppointment ? currentAppointment.pacienteNome : 'Paciente';
        const patientCPF = currentAppointment ? formatCPF(currentAppointment.pacienteCPF) : 'N√£o informado';

        // Preencher texto base do modelo com dados autom√°ticos
        let text = certModels[model];
        text = text.replace(/{{nome}}/g, patientName);
        text = text.replace(/{{cpf}}/g, patientCPF);
        certReason.value = text;
        
        // Adicionar campos espec√≠ficos do modelo
        switch(model) {
          case 'modelo1':
            certFields.innerHTML = `
              <div class="cert-field-group">
                <div class="form-group">
                  <label>Nome do Paciente</label>
                  <input type="text" class="form-control" value="${patientName}" readonly style="background-color: #f8f9fa;">
                </div>
                <div class="form-group">
                  <label>CPF</label>
                  <input type="text" class="form-control" value="${patientCPF}" readonly style="background-color: #f8f9fa;">
                </div>
              </div>
              <div class="form-group">
                <label for="certDias">Dias de Afastamento</label>
                <input type="number" id="certDias" class="form-control" min="1" value="3" onchange="updateCertText()">
              </div>
            `;
            break;
            
          case 'modelo2':
            certFields.innerHTML = `
              <div class="form-group">
                <label>Nome do Paciente</label>
                <input type="text" class="form-control" value="${patientName}" readonly style="background-color: #f8f9fa;">
              </div>
              <div class="form-group">
                <label>CPF</label>
                <input type="text" class="form-control" value="${patientCPF}" readonly style="background-color: #f8f9fa;">
              </div>
            `;
            break;
            
          case 'modelo3':
            const today = new Date().toISOString().split('T')[0];
            certFields.innerHTML = `
              <div class="cert-field-group">
                <div class="form-group">
                  <label>Nome do Paciente</label>
                  <input type="text" class="form-control" value="${patientName}" readonly style="background-color: #f8f9fa;">
                </div>
                <div class="form-group">
                  <label>CPF</label>
                  <input type="text" class="form-control" value="${patientCPF}" readonly style="background-color: #f8f9fa;">
                </div>
              </div>
              <div class="cert-field-group">
                <div class="form-group">
                  <label for="certData">Data do Atendimento</label>
                  <input type="date" id="certData" class="form-control" value="${today}" onchange="updateCertText()">
                </div>
                <div class="form-group">
                  <label for="certHoraInicio">Hora In√≠cio</label>
                  <input type="time" id="certHoraInicio" class="form-control" value="09:00" onchange="updateCertText()">
                </div>
                <div class="form-group">
                  <label for="certHoraFim">Hora Fim</label>
                  <input type="time" id="certHoraFim" class="form-control" value="10:00" onchange="updateCertText()">
                </div>
              </div>
            `;
            break;
            
          case 'modelo4':
            certFields.innerHTML = `
              <div class="cert-field-group">
                <div class="form-group">
                  <label>Nome do Paciente</label>
                  <input type="text" class="form-control" value="${patientName}" readonly style="background-color: #f8f9fa;">
                </div>
                <div class="form-group">
                  <label>CPF</label>
                  <input type="text" class="form-control" value="${patientCPF}" readonly style="background-color: #f8f9fa;">
                </div>
              </div>
              <div class="form-group">
                <label for="certAcompanhante">Nome do Acompanhante</label>
                <input type="text" id="certAcompanhante" class="form-control" placeholder="Nome do acompanhante" onchange="updateCertText()">
              </div>
            `;
            break;
        }
        
        // Inicializar busca de CID para este modelo
        initCIDSearchAtestado();
      }
    }

    function updateCertText() {
      const model = document.getElementById('certModel').value;
      if (!model) return;

      const patientName = currentAppointment ? currentAppointment.pacienteNome : 'Paciente';
      const patientCPF = currentAppointment ? formatCPF(currentAppointment.pacienteCPF) : 'N√£o informado';

      let text = certModels[model];
      text = text.replace(/{{nome}}/g, patientName);
      text = text.replace(/{{cpf}}/g, patientCPF);

      switch(model) {
        case 'modelo1':
          const dias = document.getElementById('certDias') ? document.getElementById('certDias').value : '3';
          text = text.replace(/{{dias}}/g, dias);
          break;
        case 'modelo3':
          const data = document.getElementById('certData') ? document.getElementById('certData').value : new Date().toISOString().split('T')[0];
          const horaInicio = document.getElementById('certHoraInicio') ? document.getElementById('certHoraInicio').value : '09:00';
          const horaFim = document.getElementById('certHoraFim') ? document.getElementById('certHoraFim').value : '10:00';
          const dataFormatada = data ? new Date(data).toLocaleDateString('pt-BR') : new Date().toLocaleDateString('pt-BR');
          text = text.replace(/{{data}}/g, dataFormatada);
          text = text.replace(/{{horaInicio}}/g, horaInicio);
          text = text.replace(/{{horaFim}}/g, horaFim);
          break;
        case 'modelo4':
          const acompanhante = document.getElementById('certAcompanhante') ? document.getElementById('certAcompanhante').value : '';
          text = text.replace(/{{acompanhante}}/g, acompanhante);
          break;
      }

      // Adicionar CIDs se houver
      if (selectedCidsAtestado.length > 0) {
        const cids = selectedCidsAtestado.map(cid => `${cid.code} - ${cid.description}`).join(', ');
        text = text.replace(/{{cid}}/g, `\nCID: ${cids}`);
      } else {
        text = text.replace(/{{cid}}/g, '');
      }

      document.getElementById('certReason').value = text;
    }
    
    // Sistema de CID-10 para atestado
    function initCIDSearchAtestado() {
      const cidSearch = document.getElementById('cidSearchAtestado');
      const cidResults = document.getElementById('cidResultsAtestado');
      
      if (!cidSearch) return;
      
      cidSearch.addEventListener('input', function() {
        const query = this.value.toLowerCase();
        
        if (query.length < 2) {
          cidResults.style.display = 'none';
          return;
        }
        
        const filtered = cidData.filter(item => 
          item.code.toLowerCase().includes(query) || 
          item.description.toLowerCase().includes(query)
        );
        
        displayCIDResultsAtestado(filtered);
      });
      
      document.addEventListener('click', function(e) {
        if (!cidSearch.contains(e.target) && !cidResults.contains(e.target)) {
          cidResults.style.display = 'none';
        }
      });
    }
    
    function displayCIDResultsAtestado(results) {
      const cidResults = document.getElementById('cidResultsAtestado');
      cidResults.innerHTML = '';
      
      if (results.length === 0) {
        cidResults.innerHTML = '<div class="cid-result">Nenhum CID encontrado</div>';
      } else {
        results.slice(0, 10).forEach(item => {
          const div = document.createElement('div');
          div.className = 'cid-result';
          div.innerHTML = `<strong>${item.code}</strong> - ${item.description}`;
          div.addEventListener('click', () => selectCIDAtestado(item));
          cidResults.appendChild(div);
        });
      }
      
      cidResults.style.display = 'block';
    }
    
    function selectCIDAtestado(cid) {
      if (!selectedCidsAtestado.find(item => item.code === cid.code)) {
        selectedCidsAtestado.push(cid);
        updateCIDChipsAtestado();
        updateCertText();
      }
      
      document.getElementById('cidSearchAtestado').value = '';
      document.getElementById('cidResultsAtestado').style.display = 'none';
    }
    
    function updateCIDChipsAtestado() {
      const container = document.getElementById('cidChipsAtestado');
      container.innerHTML = '';
      
      selectedCidsAtestado.forEach(cid => {
        const chip = document.createElement('div');
        chip.className = 'cid-chip';
        chip.innerHTML = `
          ${cid.code} - ${cid.description}
          <button onclick="removeCIDAtestado('${cid.code}')"><i class="fas fa-times"></i></button>
        `;
        container.appendChild(chip);
      });
    }
    
    function removeCIDAtestado(code) {
      selectedCidsAtestado = selectedCidsAtestado.filter(item => item.code !== code);
      updateCIDChipsAtestado();
      updateCertText();
    }
    
    function saveCertificate() {
      const certText = document.getElementById('certReason').value;
      if (!certText) {
        alert('Selecione um modelo de atestado primeiro.');
        return;
      }
      
      localStorage.setItem('lastCertificate', certText);
      showAlert('Atestado salva com sucesso!', 'success');
    }
    
    function printCertificate() {
      const certText = document.getElementById('certReason').value;
      if (!certText) {
        alert('Selecione um modelo de atestado primeiro.');
        return;
      }
      
      const printContent = `
        <div style="padding: 30px; font-family: Arial; line-height: 1.6;">
          <div style="white-space: pre-wrap; font-size: 14px;">${certText}</div>
          <br><br><br>
          <div style="margin-top: 50px; text-align: center;">
            <p>_________________________________________</p>
            <p><strong>Dr. Silva</strong></p>
            <p>CRM: 123456</p>
            <p>Geriatria 360</p>
          </div>
        </div>
      `;
      
      const printWindow = window.open('', '_blank');
      printWindow.document.write(printContent);
      printWindow.document.close();
      printWindow.print();
    }
    
    // Calend√°rio
    let currentDate = new Date();
    
    function initCalendar() {
      updateCalendar();
    }
    
    function updateCalendar() {
      const monthNames = ["Janeiro", "Fevereiro", "Mar√ßo", "Abril", "Maio", "Junho",
                         "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"];
      
      document.getElementById('currentMonth').textContent = 
        `${monthNames[currentDate.getMonth()]} ${currentDate.getFullYear()}`;
      
      const calendarDates = document.getElementById('calendarDates');
      calendarDates.innerHTML = '';
      
      const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
      const lastDay = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
      
      // Dias vazios no in√≠cio
      for (let i = 0; i < firstDay.getDay(); i++) {
        const emptyDiv = document.createElement('div');
        emptyDiv.className = 'calendar-date';
        calendarDates.appendChild(emptyDiv);
      }
      
      // Dias do m√™s
      for (let i = 1; i <= lastDay.getDate(); i++) {
        const dateDiv = document.createElement('div');
        dateDiv.className = 'calendar-date';
        dateDiv.textContent = i;
        
        // Marcar data atual
        const today = new Date();
        if (i === today.getDate() && 
            currentDate.getMonth() === today.getMonth() && 
            currentDate.getFullYear() === today.getFullYear()) {
          dateDiv.classList.add('today');
        }
        
        dateDiv.addEventListener('click', () => selectDate(i));
        calendarDates.appendChild(dateDiv);
      }
    }
    
    function changeMonth(direction) {
      currentDate.setMonth(currentDate.getMonth() + direction);
      updateCalendar();
    }
    
    function selectDate(day) {
      // Remover sele√ß√£o anterior
      document.querySelectorAll('.calendar-date.selected').forEach(el => {
        el.classList.remove('selected');
      });
      
      // Adicionar sele√ß√£o atual
      const dates = document.querySelectorAll('.calendar-date');
      const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1).getDay();
      dates[firstDay + day - 1].classList.add('selected');
      
      alert(`Data selecionada: ${day}/${currentDate.getMonth() + 1}/${currentDate.getFullYear()}`);
    }
    
    // Fun√ß√µes de debug
    function debugSistema() {
      const debugOutput = document.getElementById('debugOutput');
      let output = '<strong>=== DEBUG DO SISTEMA ===</strong><br>';
      
      output += `<strong>ü©∫ Current Appointment:</strong> ${JSON.stringify(currentAppointment, null, 2)}<br><br>`;
      
      const pacientes = JSON.parse(localStorage.getItem('geriatria_pacientes') || '[]');
      output += `<strong>üë• Pacientes (${pacientes.length}):</strong> ${JSON.stringify(pacientes, null, 2)}<br><br>`;
      
      const agendamentos = JSON.parse(localStorage.getItem('geriatria_agendamentos') || '[]');
      output += `<strong>üìÖ Agendamentos (${agendamentos.length}):</strong> ${JSON.stringify(agendamentos, null, 2)}<br><br>`;
      
      const triagens = JSON.parse(localStorage.getItem('geriatria_triagens') || '[]');
      output += `<strong>üìä Triagens (${triagens.length}):</strong> ${JSON.stringify(triagens, null, 2)}<br><br>`;
      
      debugOutput.innerHTML = output;
      
      // Tamb√©m logar no console
      console.log('=== DEBUG DO SISTEMA ===');
      console.log('Current Appointment:', currentAppointment);
      console.log('Pacientes:', pacientes);
      console.log('Agendamentos:', agendamentos);
      console.log('Triagens:', triagens);
    }
    
    // Outras fun√ß√µes (placeholders)
    function saveEvolution() {
      showAlert('Evolu√ß√£o salva com sucesso!', 'success');
    }
    
    function generateAIReport() {
      showAlert('Laudo gerado pela IA com base nas informa√ß√µes fornecidas!', 'success');
    }
    
    function newDocument() {
      alert('Criando novo documento m√©dico...');
    }
    
    function openDocument(type) {
      alert(`Abrindo documento: ${type}`);
    }
    
    function newAppointment() {
      alert('Abrindo formul√°rio para novo agendamento...');
    }
  </script>
</body>
</html>
