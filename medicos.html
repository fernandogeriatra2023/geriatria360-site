<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Área Médica — Geriatria 360</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Reset e variáveis */
    :root {
      --primary: #2c5aa0;
      --primary-light: #4a7bc8;
      --secondary: #34a38a;
      --accent: #ff7b54;
      --danger: #e74c3c;
      --warning: #f39c12;
      --success: #27ae60;
      --light: #f8f9fa;
      --dark: #343a40;
      --gray: #6c757d;
      --gray-light: #e9ecef;
      --border-radius: 10px;
      --box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
      --transition: all 0.3s ease;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: var(--dark);
      background-color: #f5f7fa;
    }
    
    .container {
      width: 100%;
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    /* Header médico */
    .medical-header {
      background: white;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    
    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 0;
    }
    
    .medical-brand {
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
      color: var(--primary);
      font-weight: 700;
      font-size: 1.5rem;
    }
    
    .medical-brand i {
      font-size: 1.8rem;
    }
    
    .medical-nav {
      display: flex;
      gap: 20px;
      align-items: center;
    }
    
    .medical-nav a {
      text-decoration: none;
      color: var(--dark);
      font-weight: 500;
      transition: var(--transition);
    }
    
    .medical-nav a:hover {
      color: var(--primary);
    }
    
    .medical-user {
      display: flex;
      align-items: center;
      gap: 10px;
      color: var(--gray);
    }
    
    .medical-user img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      object-fit: cover;
    }
    
    /* Login médico */
    .login-container {
      max-width: 500px;
      margin: 80px auto;
      background: white;
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      padding: 40px;
    }
    
    .login-header {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .login-header h1 {
      font-size: 2rem;
      color: var(--primary);
      margin-bottom: 10px;
    }
    
    .login-header p {
      color: var(--gray);
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: var(--dark);
    }
    
    .form-control {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid var(--gray-light);
      border-radius: var(--border-radius);
      font-size: 1rem;
      transition: var(--transition);
    }
    
    .form-control:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(44, 90, 160, 0.1);
    }
    
    .btn {
      display: inline-block;
      padding: 12px 25px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: var(--border-radius);
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      text-decoration: none;
    }
    
    .btn:hover {
      background: var(--primary-light);
      transform: translateY(-2px);
    }
    
    .btn-block {
      display: block;
      width: 100%;
    }
    
    .btn-success {
      background: var(--success);
    }
    
    .btn-success:hover {
      background: #219653;
    }
    
    /* Área principal */
    .medical-main {
      display: none;
      padding: 30px 0;
    }
    
    .medical-dashboard {
      display: grid;
      grid-template-columns: 300px 1fr;
      gap: 30px;
    }
    
    /* Sidebar */
    .medical-sidebar {
      background: white;
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      padding: 25px;
      height: fit-content;
      position: sticky;
      top: 90px;
    }
    
    .patient-info {
      text-align: center;
      padding-bottom: 20px;
      border-bottom: 1px solid var(--gray-light);
      margin-bottom: 20px;
    }
    
    .patient-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      margin: 0 auto 15px;
      border: 3px solid var(--primary-light);
    }
    
    .patient-info h3 {
      font-size: 1.3rem;
      margin-bottom: 5px;
    }
    
    .patient-info p {
      color: var(--gray);
      font-size: 0.9rem;
    }
    
    .patient-details {
      margin-bottom: 25px;
    }
    
    .detail-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--gray-light);
    }
    
    .detail-label {
      font-weight: 500;
    }
    
    .detail-value {
      color: var(--gray);
    }
    
    .medical-tabs {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    
    .medical-tab {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 15px;
      border-radius: var(--border-radius);
      cursor: pointer;
      transition: var(--transition);
      text-decoration: none;
      color: var(--dark);
    }
    
    .medical-tab:hover {
      background: var(--gray-light);
    }
    
    .medical-tab.active {
      background: var(--primary);
      color: white;
    }
    
    .medical-tab i {
      font-size: 1.2rem;
    }
    
    /* Conteúdo das abas */
    .medical-content {
      background: white;
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      padding: 30px;
    }
    
    .tab-content {
      display: none;
    }
    
    .tab-content.active {
      display: block;
    }
    
    .tab-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
      padding-bottom: 15px;
      border-bottom: 1px solid var(--gray-light);
    }
    
    .tab-header h2 {
      font-size: 1.8rem;
      color: var(--primary);
    }
    
    .tab-actions {
      display: flex;
      gap: 10px;
    }
    
    /* Evolução médica */
    .cid-search-container {
      position: relative;
      margin-bottom: 20px;
    }
    
    .cid-results {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: white;
      border: 1px solid var(--gray-light);
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      max-height: 200px;
      overflow-y: auto;
      z-index: 10;
      display: none;
    }
    
    .cid-result {
      padding: 10px 15px;
      cursor: pointer;
      border-bottom: 1px solid var(--gray-light);
    }
    
    .cid-result:hover {
      background: var(--gray-light);
    }
    
    .cid-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
    }
    
    .cid-chip {
      display: flex;
      align-items: center;
      gap: 8px;
      background: var(--primary-light);
      color: white;
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 0.9rem;
    }
    
    .cid-chip button {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      font-size: 0.8rem;
    }
    
    .editor-container {
      margin-bottom: 20px;
    }
    
    .editor-toolbar {
      display: flex;
      gap: 5px;
      padding: 10px;
      background: var(--gray-light);
      border-radius: var(--border-radius) var(--border-radius) 0 0;
      border: 1px solid var(--gray-light);
    }
    
    .editor-toolbar button {
      background: none;
      border: none;
      width: 35px;
      height: 35px;
      border-radius: 5px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
    }
    
    .editor-toolbar button:hover {
      background: rgba(255, 255, 255, 0.5);
    }
    
    .medical-editor {
      width: 100%;
      min-height: 300px;
      padding: 15px;
      border: 1px solid var(--gray-light);
      border-top: none;
      border-radius: 0 0 var(--border-radius) var(--border-radius);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      font-size: 1rem;
      resize: vertical;
    }
    
    /* Medicação */
    .medication-container {
      margin-bottom: 20px;
    }
    
    .medication-form {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr auto;
      gap: 15px;
      margin-bottom: 20px;
    }
    
    .medication-list {
      border: 1px solid var(--gray-light);
      border-radius: var(--border-radius);
      overflow: hidden;
    }
    
    .medication-item {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr auto;
      gap: 15px;
      padding: 15px;
      border-bottom: 1px solid var(--gray-light);
      align-items: center;
    }
    
    .medication-item:last-child {
      border-bottom: none;
    }
    
    .medication-item:hover {
      background: var(--light);
    }
    
    .medication-actions {
      display: flex;
      gap: 10px;
    }
    
    .medication-actions button {
      background: none;
      border: none;
      cursor: pointer;
      color: var(--gray);
      transition: var(--transition);
    }
    
    .medication-actions button:hover {
      color: var(--primary);
    }
    
    /* Documentos */
    .documents-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }
    
    .document-card {
      background: var(--light);
      border-radius: var(--border-radius);
      padding: 20px;
      transition: var(--transition);
    }
    
    .document-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--box-shadow);
    }
    
    .document-icon {
      width: 60px;
      height: 60px;
      background: var(--primary);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.5rem;
      margin-bottom: 15px;
    }
    
    .document-card h3 {
      font-size: 1.3rem;
      margin-bottom: 10px;
    }
    
    .document-card p {
      color: var(--gray);
      margin-bottom: 15px;
    }
    
    /* Agendamento */
    .calendar-container {
      background: white;
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      overflow: hidden;
      margin-bottom: 30px;
    }
    
    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
      background: var(--primary);
      color: white;
    }
    
    .calendar-nav button {
      background: none;
      border: none;
      color: white;
      font-size: 1.2rem;
      cursor: pointer;
      padding: 5px 10px;
    }
    
    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
    }
    
    .calendar-day {
      padding: 10px;
      text-align: center;
      font-weight: 600;
      background: var(--gray-light);
    }
    
    .calendar-date {
      padding: 15px 10px;
      text-align: center;
      border: 1px solid var(--gray-light);
      cursor: pointer;
      transition: var(--transition);
    }
    
    .calendar-date:hover {
      background: var(--light);
    }
    
    .calendar-date.today {
      background: var(--primary-light);
      color: white;
    }
    
    .calendar-date.selected {
      background: var(--primary);
      color: white;
    }
    
    .appointment-list {
      margin-top: 30px;
    }
    
    .appointment-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px;
      border: 1px solid var(--gray-light);
      border-radius: var(--border-radius);
      margin-bottom: 15px;
    }
    
    .appointment-info h4 {
      margin-bottom: 5px;
    }
    
    .appointment-time {
      color: var(--primary);
      font-weight: 600;
    }
    
    .appointment-status {
      padding: 5px 10px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
    }
    
    .status-scheduled {
      background: #e8f4fd;
      color: var(--primary);
    }
    
    .status-confirmed {
      background: #e6f4ea;
      color: var(--success);
    }
    
    /* Utilitários */
    .alert {
      padding: 15px;
      border-radius: var(--border-radius);
      margin-bottom: 20px;
    }
    
    .alert-success {
      background: #e6f4ea;
      color: var(--success);
      border: 1px solid #a3d9b1;
    }
    
    .alert-error {
      background: #fde8e6;
      color: var(--danger);
      border: 1px solid #f5b4ab;
    }
    
    .badge {
      display: inline-block;
      padding: 3px 8px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
    }
    
    .badge-primary {
      background: var(--primary-light);
      color: white;
    }
    
    .badge-success {
      background: var(--success);
      color: white;
    }
    
    .badge-warning {
      background: var(--warning);
      color: white;
    }
    
    /* Responsividade */
    @media (max-width: 1200px) {
      .medical-dashboard {
        grid-template-columns: 1fr;
      }
      
      .medical-sidebar {
        position: static;
      }
    }
    
    @media (max-width: 768px) {
      .medical-nav {
        display: none;
      }
      
      .medication-form {
        grid-template-columns: 1fr;
      }
      
      .medication-item {
        grid-template-columns: 1fr;
        gap: 10px;
      }
      
      .documents-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <!-- Header médico -->
  <header class="medical-header">
    <div class="container">
      <div class="header-content">
        <a href="index.html" class="medical-brand">
          <i class="fas fa-heartbeat"></i>
          <span>Geriatria 360</span>
        </a>
        
        <nav class="medical-nav">
          <a href="index.html"><i class="fas fa-home"></i> Início</a>
          <a href="#"><i class="fas fa-calendar-alt"></i> Agenda</a>
          <a href="#"><i class="fas fa-users"></i> Pacientes</a>
          <a href="#"><i class="fas fa-chart-bar"></i> Relatórios</a>
        </nav>
        
        <div class="medical-user">
          <img src="https://ui-avatars.com/api/?name=Dr+Silva&background=2c5aa0&color=fff" alt="Dr. Silva">
          <div>
            <div>Dr. Silva</div>
            <small>Geriatra</small>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Área de login (inicial) -->
  <section id="loginArea" class="login-container">
    <div class="login-header">
      <h1>Área Médica</h1>
      <p>Acesso restrito a profissionais de saúde</p>
    </div>
    
    <form id="loginForm">
      <div class="form-group">
        <label for="med-user">CRM</label>
        <input type="text" id="med-user" class="form-control" placeholder="Digite seu CRM">
      </div>
      
      <div class="form-group">
        <label for="med-pass">Senha</label>
        <input type="password" id="med-pass" class="form-control" placeholder="Digite sua senha">
      </div>
      
      <button type="button" class="btn btn-block" onclick="loginMed()">Entrar na Área Médica</button>
    </form>
    
    <div class="alert alert-error" id="loginError" style="display: none; margin-top: 20px;">
      CRM ou senha incorretos. Tente novamente.
    </div>
  </section>

  <!-- Área principal (após login) -->
  <section id="medicalArea" class="medical-main">
    <div class="container">
      <div class="medical-dashboard">
        <!-- Sidebar com informações do paciente -->
        <aside class="medical-sidebar">
          <div class="patient-info">
            <img src="https://ui-avatars.com/api/?name=Maria+Silva&background=34a38a&color=fff" alt="Maria Silva" class="patient-avatar">
            <h3>Maria Silva</h3>
            <p>ID: <strong>MS-75-001</strong></p>
          </div>
          
          <div class="patient-details">
            <div class="detail-item">
              <span class="detail-label">Idade</span>
              <span class="detail-value">75 anos</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Escolaridade</span>
              <span class="detail-value">8 anos</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Alergias</span>
              <span class="detail-value">Penicilina</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Comorbidades</span>
              <span class="detail-value">Hipertensão, Diabetes</span>
            </div>
          </div>
          
          <div class="medical-tabs">
            <a href="#" class="medical-tab active" data-tab="evolucao">
              <i class="fas fa-stethoscope"></i>
              <span>Evolução Médica</span>
            </a>
            <a href="#" class="medical-tab" data-tab="medicacao">
              <i class="fas fa-pills"></i>
              <span>Medicação</span>
            </a>
            <a href="#" class="medical-tab" data-tab="atestados">
              <i class="fas fa-file-medical"></i>
              <span>Atestados</span>
            </a>
            <a href="#" class="medical-tab" data-tab="documentos">
              <i class="fas fa-file-contract"></i>
              <span>Documentos</span>
            </a>
            <a href="#" class="medical-tab" data-tab="agendamento">
              <i class="fas fa-calendar-check"></i>
              <span>Agendamento</span>
            </a>
            <a href="#" class="medical-tab" data-tab="exames">
              <i class="fas fa-vial"></i>
              <span>Solicitar Exames</span>
            </a>
          </div>
        </aside>
        
        <!-- Conteúdo principal -->
        <main class="medical-content">
          <!-- Evolução Médica -->
          <div id="evolucao" class="tab-content active">
            <div class="tab-header">
              <h2>Evolução Médica</h2>
              <div class="tab-actions">
                <button class="btn" onclick="saveEvolution()"><i class="fas fa-save"></i> Salvar</button>
                <button class="btn btn-success" onclick="generateAIReport()"><i class="fas fa-robot"></i> Gerar Laudo IA</button>
              </div>
            </div>
            
            <div class="cid-search-container">
              <input type="text" id="cidSearch" class="form-control" placeholder="Digite código CID-10 (ex: I10) ou descrição...">
              <div id="cidResults" class="cid-results"></div>
            </div>
            
            <div id="cidChips" class="cid-chips"></div>
            
            <div class="editor-container">
              <div class="editor-toolbar">
                <button type="button" title="Negrito" onclick="formatText('bold')"><i class="fas fa-bold"></i></button>
                <button type="button" title="Itálico" onclick="formatText('italic')"><i class="fas fa-italic"></i></button>
                <button type="button" title="Sublinhado" onclick="formatText('underline')"><i class="fas fa-underline"></i></button>
                <button type="button" title="Lista" onclick="formatText('insertUnorderedList')"><i class="fas fa-list-ul"></i></button>
                <button type="button" title="Lista Numerada" onclick="formatText('insertOrderedList')"><i class="fas fa-list-ol"></i></button>
              </div>
              <div id="evolText" class="medical-editor" contenteditable="true">
                <p><strong>Queixa Principal:</strong> Paciente relora dor articular difusa há aproximadamente 3 meses, com piora progressiva.</p>
                <p><strong>História da Doença Atual:</strong> Refere rigidez matinal com duração de aproximadamente 1 hora. Relata dificuldade para realizar atividades de vida diária, como vestir-se e preparar refeições.</p>
                <p><strong>Exame Físico:</strong> Ao exame físico, observa-se edema em articulações interfalânganas proximais bilateralmente. Amplitude de movimento preservada, porém dolorosa.</p>
              </div>
            </div>
          </div>
          
          <!-- Medicação -->
          <div id="medicacao" class="tab-content">
            <div class="tab-header">
              <h2>Prescrição de Medicação</h2>
              <div class="tab-actions">
                <button class="btn" onclick="savePrescription()"><i class="fas fa-save"></i> Salvar Receita</button>
                <button class="btn" onclick="printPrescription()"><i class="fas fa-print"></i> Imprimir</button>
              </div>
            </div>
            
            <div class="medication-container">
              <div class="medication-form">
                <input type="text" id="medName" class="form-control" placeholder="Medicamento" list="medSuggestions">
                <datalist id="medSuggestions">
                  <option value="Losartana 50mg">
                  <option value="AAS 100mg">
                  <option value="Sinvastatina 20mg">
                  <option value="Metformina 850mg">
                  <option value="Omeprazol 20mg">
                  <option value="Clopidogrel 75mg">
                </datalist>
                <input type="text" id="medDosage" class="form-control" placeholder="Posologia (ex: 1x ao dia)">
                <input type="text" id="medDuration" class="form-control" placeholder="Duração (ex: 30 dias)">
                <button type="button" class="btn" onclick="addMedication()"><i class="fas fa-plus"></i> Adicionar</button>
              </div>
              
              <div class="medication-list">
                <div class="medication-item">
                  <div><strong>Losartana 50mg</strong></div>
                  <div>1 comprimido ao dia</div>
                  <div>Uso contínuo</div>
                  <div class="medication-actions">
                    <button title="Editar"><i class="fas fa-edit"></i></button>
                    <button title="Remover"><i class="fas fa-trash"></i></button>
                  </div>
                </div>
                <div class="medication-item">
                  <div><strong>AAS 100mg</strong></div>
                  <div>1 comprimido ao dia</div>
                  <div>Uso contínuo</div>
                  <div class="medication-actions">
                    <button title="Editar"><i class="fas fa-edit"></i></button>
                    <button title="Remover"><i class="fas fa-trash"></i></button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Atestados -->
          <div id="atestados" class="tab-content">
            <div class="tab-header">
              <h2>Emitir Atestados</h2>
              <div class="tab-actions">
                <button class="btn" onclick="saveCertificate()"><i class="fas fa-save"></i> Salvar</button>
                <button class="btn" onclick="printCertificate()"><i class="fas fa-print"></i> Imprimir</button>
              </div>
            </div>
            
            <div class="form-group">
              <label for="certType">Tipo de Atestado</label>
              <select id="certType" class="form-control">
                <option value="medical">Atestado Médico</option>
                <option value="sick_leave">Afastamento</option>
                <option value="health">Atestado de Saúde</option>
                <option value="comparecimento">Comparecimento</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="certDays">Dias de Afastamento (se aplicável)</label>
              <input type="number" id="certDays" class="form-control" min="1" value="3">
            </div>
            
            <div class="form-group">
              <label for="certReason">Motivo / Diagnóstico</label>
              <textarea id="certReason" class="form-control" rows="4" placeholder="Descreva o motivo do atestado..."></textarea>
            </div>
            
            <div class="form-group">
              <label for="certRestrictions">Restrições / Recomendações</label>
              <textarea id="certRestrictions" class="form-control" rows="3" placeholder="Descreva restrições ou recomendações..."></textarea>
            </div>
          </div>
          
          <!-- Documentos -->
          <div id="documentos" class="tab-content">
            <div class="tab-header">
              <h2>Documentos Médicos</h2>
              <div class="tab-actions">
                <button class="btn" onclick="newDocument()"><i class="fas fa-plus"></i> Novo Documento</button>
              </div>
            </div>
            
            <div class="documents-grid">
              <div class="document-card">
                <div class="document-icon">
                  <i class="fas fa-file-prescription"></i>
                </div>
                <h3>Receituário</h3>
                <p>Prescrição de medicamentos controlados e simples</p>
                <button class="btn" onclick="openDocument('receita')">Abrir</button>
              </div>
              
              <div class="document-card">
                <div class="document-icon">
                  <i class="fas fa-file-medical-alt"></i>
                </div>
                <h3>Solicitação de Exames</h3>
                <p>Solicitação de exames laboratoriais e de imagem</p>
                <button class="btn" onclick="openDocument('exames')">Abrir</button>
              </div>
              
              <div class="document-card">
                <div class="document-icon">
                  <i class="fas fa-ambulance"></i>
                </div>
                <h3>Encaminhamento</h3>
                <p>Encaminhamento para especialistas ou serviços de saúde</p>
                <button class="btn" onclick="openDocument('encaminhamento')">Abrir</button>
              </div>
              
              <div class="document-card">
                <div class="document-icon">
                  <i class="fas fa-procedures"></i>
                </div>
                <h3>Relatório de Internação</h3>
                <p>Relatório médico para processos de internação</p>
                <button class="btn" onclick="openDocument('internacao')">Abrir</button>
              </div>
            </div>
          </div>
          
          <!-- Agendamento -->
          <div id="agendamento" class="tab-content">
            <div class="tab-header">
              <h2>Agendamento de Consultas</h2>
              <div class="tab-actions">
                <button class="btn" onclick="newAppointment()"><i class="fas fa-plus"></i> Nova Consulta</button>
              </div>
            </div>
            
            <div class="calendar-container">
              <div class="calendar-header">
                <div class="calendar-nav">
                  <button onclick="changeMonth(-1)"><i class="fas fa-chevron-left"></i></button>
                </div>
                <h3 id="currentMonth">Junho 2023</h3>
                <div class="calendar-nav">
                  <button onclick="changeMonth(1)"><i class="fas fa-chevron-right"></i></button>
                </div>
              </div>
              
              <div class="calendar-grid">
                <div class="calendar-day">Dom</div>
                <div class="calendar-day">Seg</div>
                <div class="calendar-day">Ter</div>
                <div class="calendar-day">Qua</div>
                <div class="calendar-day">Qui</div>
                <div class="calendar-day">Sex</div>
                <div class="calendar-day">Sáb</div>
                
                <!-- Dias do calendário serão preenchidos via JavaScript -->
                <div id="calendarDates" class="calendar-dates"></div>
              </div>
            </div>
            
            <div class="appointment-list">
              <h3 style="margin-bottom: 20px;">Consultas Agendadas</h3>
              
              <div class="appointment-item">
                <div class="appointment-info">
                  <h4>Maria Silva</h4>
                  <p>Consulta de rotina - Geriatria</p>
                </div>
                <div class="appointment-time">
                  10:00 - 10:40
                </div>
                <div class="appointment-status status-confirmed">
                  Confirmada
                </div>
              </div>
              
              <div class="appointment-item">
                <div class="appointment-info">
                  <h4>João Santos</h4>
                  <p>Avaliação de memória</p>
                </div>
                <div class="appointment-time">
                  14:30 - 15:15
                </div>
                <div class="appointment-status status-scheduled">
                  Agendada
                </div>
              </div>
            </div>
          </div>
          
          <!-- Solicitar Exames -->
          <div id="exames" class="tab-content">
            <div class="tab-header">
              <h2>Solicitação de Exames</h2>
              <div class="tab-actions">
                <button class="btn" onclick="saveExams()"><i class="fas fa-save"></i> Salvar</button>
                <button class="btn" onclick="printExams()"><i class="fas fa-print"></i> Imprimir</button>
              </div>
            </div>
            
            <div class="form-group">
              <label for="examType">Tipo de Exame</label>
              <select id="examType" class="form-control">
                <option value="laboratorial">Laboratorial</option>
                <option value="imagem">Imagem</option>
                <option value="funcional">Funcional</option>
                <option value="outros">Outros</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="examInput">Exames Solicitados</label>
              <div style="display: flex; gap: 10px;">
                <input type="text" id="examInput" class="form-control" placeholder="Ex: Hemograma completo, Glicemia...">
                <button type="button" class="btn" onclick="addExam()"><i class="fas fa-plus"></i> Adicionar</button>
              </div>
            </div>
            
            <div class="form-group">
              <label>Exames Selecionados</label>
              <ul id="examList" class="list-simple" style="background: var(--light); padding: 15px; border-radius: var(--border-radius);">
                <li style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid var(--gray-light);">
                  <span>Hemograma completo</span>
                  <button style="background: none; border: none; color: var(--danger); cursor: pointer;"><i class="fas fa-times"></i></button>
                </li>
                <li style="display: flex; justify-content: space-between; padding: 8px 0;">
                  <span>Glicemia em jejum</span>
                  <button style="background: none; border: none; color: var(--danger); cursor: pointer;"><i class="fas fa-times"></i></button>
                </li>
              </ul>
            </div>
            
            <div class="form-group">
              <label for="examInstructions">Instruções Especiais</label>
              <textarea id="examInstructions" class="form-control" rows="3" placeholder="Instruções para preparo ou realização dos exames..."></textarea>
            </div>
          </div>
        </main>
      </div>
    </div>
  </section>

  <script>
    // Dados de exemplo
    const cidData = [
      { code: "I10", description: "Hipertensão essencial (primária)" },
      { code: "E11", description: "Diabetes mellitus tipo 2" },
      { code: "M19", description: "Osteoartrose" },
      { code: "F03", description: "Demência não especificada" },
      { code: "J45", description: "Asma" },
      { code: "I25", description: "Doença isquêmica crônica do coração" },
      { code: "N39", description: "Outros transtornos do sistema urinário" },
      { code: "R05", description: "Tosse" },
      { code: "R06", description: "Anormalidades da respiração" },
      { code: "R53", description: "Mal-estar e fadiga" }
    ];
    
    // Estado da aplicação
    let currentUser = null;
    let currentDate = new Date();
    let selectedCids = [];
    
    // Função de login
    function loginMed() {
      const user = document.getElementById('med-user').value;
      const pass = document.getElementById('med-pass').value;
      
      // Validação simples (em produção, isso seria feito no servidor)
      if (user === '123456' && pass === 'medico123') {
        document.getElementById('loginArea').style.display = 'none';
        document.getElementById('medicalArea').style.display = 'block';
        document.getElementById('loginError').style.display = 'none';
        currentUser = { name: 'Dr. Silva', crm: '123456' };
        
        // Inicializar componentes
        initCIDSearch();
        initCalendar();
        setupTabNavigation();
      } else {
        document.getElementById('loginError').style.display = 'block';
      }
    }
    
    // Navegação por abas
    function setupTabNavigation() {
      const tabs = document.querySelectorAll('.medical-tab');
      
      tabs.forEach(tab => {
        tab.addEventListener('click', function(e) {
          e.preventDefault();
          
          // Remover classe active de todas as abas
          tabs.forEach(t => t.classList.remove('active'));
          document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
          
          // Adicionar classe active à aba clicada
          this.classList.add('active');
          
          // Mostrar conteúdo correspondente
          const tabId = this.getAttribute('data-tab');
          document.getElementById(tabId).classList.add('active');
        });
      });
    }
    
    // Busca de CID
    function initCIDSearch() {
      const cidSearch = document.getElementById('cidSearch');
      const cidResults = document.getElementById('cidResults');
      
      cidSearch.addEventListener('input', function() {
        const query = this.value.toLowerCase();
        
        if (query.length < 2) {
          cidResults.style.display = 'none';
          return;
        }
        
        const filtered = cidData.filter(item => 
          item.code.toLowerCase().includes(query) || 
          item.description.toLowerCase().includes(query)
        );
        
        displayCIDResults(filtered);
      });
      
      // Fechar resultados ao clicar fora
      document.addEventListener('click', function(e) {
        if (!cidSearch.contains(e.target) && !cidResults.contains(e.target)) {
          cidResults.style.display = 'none';
        }
      });
    }
    
    function displayCIDResults(results) {
      const cidResults = document.getElementById('cidResults');
      cidResults.innerHTML = '';
      
      if (results.length === 0) {
        cidResults.innerHTML = '<div class="cid-result">Nenhum resultado encontrado</div>';
      } else {
        results.forEach(item => {
          const div = document.createElement('div');
          div.className = 'cid-result';
          div.innerHTML = `<strong>${item.code}</strong> - ${item.description}`;
          div.addEventListener('click', () => selectCID(item));
          cidResults.appendChild(div);
        });
      }
      
      cidResults.style.display = 'block';
    }
    
    function selectCID(cid) {
      if (!selectedCids.find(item => item.code === cid.code)) {
        selectedCids.push(cid);
        updateCIDChips();
      }
      
      document.getElementById('cidSearch').value = '';
      document.getElementById('cidResults').style.display = 'none';
    }
    
    function updateCIDChips() {
      const container = document.getElementById('cidChips');
      container.innerHTML = '';
      
      selectedCids.forEach(cid => {
        const chip = document.createElement('div');
        chip.className = 'cid-chip';
        chip.innerHTML = `
          ${cid.code} - ${cid.description}
          <button onclick="removeCID('${cid.code}')"><i class="fas fa-times"></i></button>
        `;
        container.appendChild(chip);
      });
    }
    
    function removeCID(code) {
      selectedCids = selectedCids.filter(item => item.code !== code);
      updateCIDChips();
    }
    
    // Formatação de texto no editor
    function formatText(command) {
      document.execCommand(command, false, null);
      document.getElementById('evolText').focus();
    }
    
    // Calendário
    function initCalendar() {
      updateCalendar();
    }
    
    function updateCalendar() {
      const monthNames = ["Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho",
                         "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"];
      
      document.getElementById('currentMonth').textContent = 
        `${monthNames[currentDate.getMonth()]} ${currentDate.getFullYear()}`;
      
      const calendarDates = document.getElementById('calendarDates');
      calendarDates.innerHTML = '';
      
      const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
      const lastDay = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
      
      // Dias vazios no início
      for (let i = 0; i < firstDay.getDay(); i++) {
        const emptyDiv = document.createElement('div');
        emptyDiv.className = 'calendar-date';
        calendarDates.appendChild(emptyDiv);
      }
      
      // Dias do mês
      for (let i = 1; i <= lastDay.getDate(); i++) {
        const dateDiv = document.createElement('div');
        dateDiv.className = 'calendar-date';
        dateDiv.textContent = i;
        
        // Marcar data atual
        const today = new Date();
        if (i === today.getDate() && 
            currentDate.getMonth() === today.getMonth() && 
            currentDate.getFullYear() === today.getFullYear()) {
          dateDiv.classList.add('today');
        }
        
        dateDiv.addEventListener('click', () => selectDate(i));
        calendarDates.appendChild(dateDiv);
      }
    }
    
    function changeMonth(direction) {
      currentDate.setMonth(currentDate.getMonth() + direction);
      updateCalendar();
    }
    
    function selectDate(day) {
      // Remover seleção anterior
      document.querySelectorAll('.calendar-date.selected').forEach(el => {
        el.classList.remove('selected');
      });
      
      // Adicionar seleção atual
      const dates = document.querySelectorAll('.calendar-date');
      const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1).getDay();
      dates[firstDay + day - 1].classList.add('selected');
      
      // Aqui você pode carregar os agendamentos para a data selecionada
      alert(`Data selecionada: ${day}/${currentDate.getMonth() + 1}/${currentDate.getFullYear()}`);
    }
    
    // Funções para adicionar medicamentos
    function addMedication() {
      const name = document.getElementById('medName').value;
      const dosage = document.getElementById('medDosage').value;
      const duration = document.getElementById('medDuration').value;
      
      if (!name || !dosage) {
        alert('Por favor, preencha pelo menos o nome e a posologia do medicamento.');
        return;
      }
      
      // Aqui você adicionaria o medicamento à lista
      alert(`Medicamento adicionado: ${name}, ${dosage}, ${duration}`);
      
      // Limpar formulário
      document.getElementById('medName').value = '';
      document.getElementById('medDosage').value = '';
      document.getElementById('medDuration').value = '';
    }
    
    // Funções para adicionar exames
    function addExam() {
      const examInput = document.getElementById('examInput');
      const examList = document.getElementById('examList');
      
      if (examInput.value.trim() === '') {
        alert('Por favor, digite um exame para adicionar.');
        return;
      }
      
      // Aqui você adicionaria o exame à lista
      alert(`Exame adicionado: ${examInput.value}`);
      
      // Limpar campo
      examInput.value = '';
    }
    
    // Funções de salvamento (simuladas)
    function saveEvolution() {
      alert('Evolução salva com sucesso!');
    }
    
    function generateAIReport() {
      alert('Laudo gerado pela IA com base nas informações fornecidas!');
    }
    
    function savePrescription() {
      alert('Receita salva com sucesso!');
    }
    
    function printPrescription() {
      alert('Função de impressão de receita acionada!');
    }
    
    function saveCertificate() {
      alert('Atestado salvo com sucesso!');
    }
    
    function printCertificate() {
      alert('Função de impressão de atestado acionada!');
    }
    
    function newDocument() {
      alert('Criando novo documento médico...');
    }
    
    function openDocument(type) {
      alert(`Abrindo documento: ${type}`);
    }
    
    function newAppointment() {
      alert('Abrindo formulário para novo agendamento...');
    }
    
    function saveExams() {
      alert('Solicitação de exames salva com sucesso!');
    }
    
    function printExams() {
      alert('Função de impressão de solicitação de exames acionada!');
    }
    
    // Inicialização quando a página carrega
    document.addEventListener('DOMContentLoaded', function() {
      // Configurar datalist para sugestões de medicamentos
      const medSuggestions = document.getElementById('medSuggestions');
      
      // Adicionar alguns medicamentos comuns em geriatria
      const commonMeds = [
        "Losartana 50mg", "AAS 100mg", "Sinvastatina 20mg", "Metformina 850mg",
        "Omeprazol 20mg", "Clopidogrel 75mg", "Atenolol 50mg", "Hidroclorotiazida 25mg",
        "Insulina NPH", "Donepezila 10mg", "Memantina 10mg", "Rivastigmina 4.5mg",
        "Sertralina 50mg", "Diazepam 5mg", "Alprazolam 0.5mg", "Lorazepam 1mg"
      ];
      
      commonMeds.forEach(med => {
        const option = document.createElement('option');
        option.value = med;
        medSuggestions.appendChild(option);
      });
    });
  </script>
</body>
</html>
